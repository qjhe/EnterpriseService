<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
	    <title></title>
	    <link href="css/esStyle.css" rel="stylesheet"/>
	    <link href="css/adStyle.css" rel="stylesheet"/>
	    <link href="js/lightbox/source/jquery.fancybox.css" rel="stylesheet">
	    <link href="js/lightbox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" rel="stylesheet">
	     <style type="text/css">
		    .fancybox-margin{margin-right:17px;}
		    .es-cbinput1.gray{background: #ccc;}
	    </style>
	    <script src="js/jquery-1.11.1.min.js"></script>
	    <script src="js/ecJs.js"></script>
	</head>
	<body style="background: #f6f6f6;">
		<div id="esHeader" class="es-comWidth clearFiex">
		    <div class="es-logo-area clearFiex fl">
		        <a class="es-logo-a fl" href="javascript:;"></a>
		
		        <h2 class="fl">恒善普惠 · 企业服务</h2>
		    </div>
		    <ul class="es-nav fl">
		        <li>首页</li>
		    	<li class="active">企业信息</li>
		        <li>角色管理</li>
		        <li>流程管理</li>
		        <li>账户设置</li>
		    </ul>
		    <div class="es-login-info es-login-info2 fr">
				<p>欢迎您，<br />北京恒善信诚科技有限公司</p>
				<a href="javascript:;">退出</a>
		    </div>
		</div>  
		<!--头部结束-->
		
		<!--主体开始-->
		<div class="es-acc-set es-comWidth clearFiex">
			<div class="es-acc-nav fl">
				<ul class="es-acc-box">
					<li>
						<a href="#">资金托管</a>
					</li>
					<li>
						<a href="#">修改密码</a>
					</li>
					<li>
						<a class="active" href="#">银行卡管理</a>
					</li>
				</ul>
			</div>
			<div class="es-acc-content">
				<h1 class="es-cb-tit es-cb-tit1"><em></em>添加银行卡</h1>
				<div class="es-cb-con es-cb-conBank">
				<div class="es-cb-con-list" style="display:block;">
					<!-- 企业银行卡 -->
					<form action="" method="post">
						<div class="es-cb-item">
							<div class="es-cb-input">
								<span class="es-cb-name">姓名</span>
								<input type="text" name="" id="corpName" value="" placeholder="个体户姓名" class="es-cbinput" autocomplete="off"/>
								<p class="es-error-msg"><em></em><span></span></p>
							</div>
						</div>
						<div class="es-cb-item">
							<div class="es-cb-input">
								<span class="es-cb-name">身份证号</span>
								<input type="text" name="" id="idNum" value="" placeholder="请输入身份证号码" class="es-cbinput" autocomplete="off"/>
								<p class="es-error-msg"><em></em><span></span></p>
							</div>
						</div>
						<div class="es-cb-item">
							<div class="es-cb-input">
								<span class="es-cb-name">银行名称</span>
								<select name="" id="bankName" class="es-cbinput">
									<option value="-1">请选择银行</option>
									<option value="光大银行">光大银行</option>
									<option value="中信银行">中信银行</option>
									<option value="华夏银行">华夏银行</option>
									<option value="浦发银行">浦发银行</option>
									<option value="民生银行">民生银行</option>
									<option value="平安银行">平安银行</option>
									<option value="兴业银行">兴业银行</option>
								</select>
								<p class="es-error-msg"><em></em><span></span></p>
							</div>
						</div>
						<div class="es-cb-item">
							<div class="es-cb-input">
								<span class="es-cb-name">银行账号</span>
								<input type="text" name="" id="bankNum" value="" placeholder="请输入银行账号" class="es-cbinput" autocomplete="off"/>
								<p class="es-error-msg"><em></em><span></span></p>
							</div>
						</div>

						<div class="es-cb-item">
							<div class="es-cb-input">
								<span class="es-cb-name">&nbsp;</span>
								<input type="button" name="" id="es-comBtn" value="确定" class="es-cbinput1 gray"/>
							</div>
						</div>
					</form>
				</div>
				</div>
			</div>
		</div>
		
		<!--主体结束-->
		<div class="es-tfooter">
			<p>北京恒善普惠信息咨询有效公司  |  ©2016 squcorp.com All Rights Reserved  |  京ICP备 xxxxxx 号  |  京公网安备 xxxxxx</p>
		</div>
		<script src="js/jquery-1.11.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/jQuery.md5.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/lightbox/source/jquery.fancybox.js"></script>
		<script src="js/lightbox/source/helpers/jquery.fancybox-buttons.js"></script>
		<script src="js/lightbox/source/helpers/jquery.fancybox-thumbs.js"></script>
		<script src="js/lightbox/source/helpers/jquery.fancybox-media.js"></script>
		<script src="js/bankPayJson.js"></script>
		<script src="js/esValidate.js"></script>
		<script type="text/javascript">
			//错误提示信息
		    function errorInfoShow(obj, msg) {
		        obj.show();
		        if (msg != "") {
		            obj.removeClass("es-right").addClass("es-error");
		            obj.find("span").html(msg);
		        } else {
		            obj.removeClass("es-error").addClass("es-right");
		            obj.find("span").html(msg);
		        }
		    }
		    $(".es-cbinput").on("focus", function () {
		        $(this).addClass("active");
		        $(this).parent().siblings(".es-cb-info").addClass("active");
		    })
		    $(".es-cbinput").on("blur", function () {
		        $(this).removeClass("active");
		        $(this).parent().siblings(".es-cb-info").removeClass("active");
		    })
		    var iMv = new mValidate();
		   
		    var corpName=$("#corpName"),
		   		idNum=$("#idNum"),
		   		bankName=$("#bankName"),
		   		bankNum=$("#bankNum"),
		   		esComBtn=$("#es-comBtn");
		   		
		   		
		   		var validateForm_ =function(){//验证方法
				}
				validateForm_.prototype={
					corpName:function(type){
						if (!iMv.isEmpty(corpName.val())) {
							var iObj = corpName.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "请输入姓名");
							return false;
						}else{
							var iObj = corpName.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "");
						}
						return true;
					},
					idNum:function(type){
						if (!iMv.isEmpty(idNum.val())) {
							var iObj = idNum.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "请输入身份证号");
							return false;
						}
						if (!_idcardno(idNum.val())) {//
							var iObj = idNum.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "身份证号码格式错误");
							return false;
						}else{
							var iObj = idNum.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "");
						}
						return true;
					},
					bankName:function(type){
						if(bankName.val()==-1){
							var iObj = bankName.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "请选择银行名称");
							return false;
						}else{
							var iObj = bankName.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "");
						}
						return true;
					},
					bankNum:function(type){//银行账号
						if (!iMv.isEmpty(bankNum.val())) {
							var iObj = bankNum.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "请输入银行账号");
							return false;
						}else{
							var iObj = bankNum.siblings(".es-error-msg");
							if(type!=1) errorInfoShow(iObj, "");
						}
						return true;
					}
					
				}
		   	//绑定验证信息
			var iV = new validateForm_();
		   /*企业银行 s*/
		  corpName.on("blur input",function(){
				iV.corpName();
			});
		  bankName.on("blur input",function(){
				iV.bankName();
		    });
		  idNum.on("blur input",function(){
				iV.idNum();
		  });
		  bankNum.on("blur input",function(){
				iV.bankNum();
		  });
		  function higBtnFun(){
		  	if(iV.corpName(1)&&iV.idNum(1)&&iV.bankName(1)&&iV.bankNum(1)){
		  		esComBtn.removeClass("gray").off("click").on("click",function(){alert(1)})
		  	}else{
		  		esComBtn.off("click")
		  	}
		  }
		</script>
	</body>
</html>
